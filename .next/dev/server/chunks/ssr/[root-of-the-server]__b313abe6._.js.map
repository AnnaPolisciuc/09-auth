{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 9, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/AuthNavigation/AuthNavigation.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"logoutButton\": \"AuthNavigation-module__DN8toa__logoutButton\",\n  \"navigationItem\": \"AuthNavigation-module__DN8toa__navigationItem\",\n  \"navigationLink\": \"AuthNavigation-module__DN8toa__navigationLink\",\n  \"userEmail\": \"AuthNavigation-module__DN8toa__userEmail\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/09-auth/lib/store/authStore.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport type { User } from \"../../types/user\";\nexport interface AuthStore {\n  user: User | null;\n  isAuthenticated: boolean;\n  setUser: (user: User) => void;\n  clearIsAuthenticated: () => void;\n}\n\nexport const useAuthStore = create<AuthStore>()((set) => ({\n  user: null,\n  isAuthenticated: false,\n  setUser: (user) => set({ user, isAuthenticated: true }),\n  clearIsAuthenticated: () => set({ user: null, isAuthenticated: false }),\n}));\n\n"],"names":[],"mappings":";;;;AAAA;;AASO,MAAM,eAAe,IAAA,kJAAM,IAAc,CAAC,MAAQ,CAAC;QACxD,MAAM;QACN,iBAAiB;QACjB,SAAS,CAAC,OAAS,IAAI;gBAAE;gBAAM,iBAAiB;YAAK;QACrD,sBAAsB,IAAM,IAAI;gBAAE,MAAM;gBAAM,iBAAiB;YAAM;IACvE,CAAC","debugId":null}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/09-auth/lib/api/api.ts"],"sourcesContent":["import axios, { type AxiosInstance } from 'axios';\n\n\nconst BASE_URL = `${process.env.NEXT_PUBLIC_API_URL}/api`;\n\nexport const nextServer: AxiosInstance = axios.create({\n  baseURL: BASE_URL,\n  withCredentials: true,\n});"],"names":[],"mappings":";;;;AAAA;;AAGA,MAAM,WAAW,6DAAmC,IAAI,CAAC;AAElD,MAAM,aAA4B,gJAAK,CAAC,MAAM,CAAC;IACpD,SAAS;IACT,iBAAiB;AACnB","debugId":null}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/09-auth/lib/api/clientApi.ts"],"sourcesContent":["\nimport type { User } from \"../../types/user\";\nimport type { Note, NoteCreate } from \"../../types/note\";\n// import { api } from \"@/app/api/api\";\nimport { nextServer } from \"./api\";\n\n\nexport type CreateNoteInput = Pick<Note, 'title' | 'content' | 'tag'>;\n\nexport async function register(email: string, password: string): Promise<User> {\n  const { data } = await nextServer.post(\"/auth/register\", { email, password });\n  return data;\n} \n\nexport const login = async (email: string, password: string) => {\n  const { data } = await nextServer.post(\"/auth/login\", { email, password });\n  return data;\n};\n\n\nexport async function logout(): Promise<void> {\n  await nextServer.post(\"/auth/logout\");\n}\n\nexport async function checkSession(): Promise<User | null> {\n  const { data } = await nextServer.get(\"/auth/session\");\n  return data || null;\n}\n\nexport async function fetchNotes(page = 1, perPage = 12, search = \"\", tag?: string) {\n  const params: Record<string, string | number> = { page, perPage };\n  if (search.trim()) params.search = search.trim();\n  if (tag) params.tag = tag;\n  const { data } = await nextServer.get(\"/notes\", { params });\n  return data;\n}\n\nexport async function fetchNoteById(id: string) {\n  const { data } = await nextServer.get(`/notes/${id}`);\n  return data;\n}\n\nexport async function createNote(note: NoteCreate) {\n  const { data } = await nextServer.post(\"/notes\", note);\n  return data;\n}\n\nexport async function deleteNote(id: string) {\n  const { data } = await nextServer.delete(`/notes/${id}`);\n  return data;\n}\n\nexport async function getMe() {\n  const { data } = await nextServer.get(\"/users/me\");\n  return data;\n}\n\nexport async function updateMe(payload: Partial<User>) {\n  const { data } = await nextServer.patch(\"/users/me\", payload);\n  return data;\n}\n\nexport const uploadImage = async (file: File): Promise<string> => {\n  const formData = new FormData();\n  formData.append('file', file);\n\n  const { data } = await nextServer.post('/upload', formData);\n  return data.url;\n};\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAGA,uCAAuC;AACvC;;AAKO,eAAe,SAAS,KAAa,EAAE,QAAgB;IAC5D,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,+HAAU,CAAC,IAAI,CAAC,kBAAkB;QAAE;QAAO;IAAS;IAC3E,OAAO;AACT;AAEO,MAAM,QAAQ,OAAO,OAAe;IACzC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,+HAAU,CAAC,IAAI,CAAC,eAAe;QAAE;QAAO;IAAS;IACxE,OAAO;AACT;AAGO,eAAe;IACpB,MAAM,+HAAU,CAAC,IAAI,CAAC;AACxB;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,+HAAU,CAAC,GAAG,CAAC;IACtC,OAAO,QAAQ;AACjB;AAEO,eAAe,WAAW,OAAO,CAAC,EAAE,UAAU,EAAE,EAAE,SAAS,EAAE,EAAE,GAAY;IAChF,MAAM,SAA0C;QAAE;QAAM;IAAQ;IAChE,IAAI,OAAO,IAAI,IAAI,OAAO,MAAM,GAAG,OAAO,IAAI;IAC9C,IAAI,KAAK,OAAO,GAAG,GAAG;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,+HAAU,CAAC,GAAG,CAAC,UAAU;QAAE;IAAO;IACzD,OAAO;AACT;AAEO,eAAe,cAAc,EAAU;IAC5C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,+HAAU,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,IAAI;IACpD,OAAO;AACT;AAEO,eAAe,WAAW,IAAgB;IAC/C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,+HAAU,CAAC,IAAI,CAAC,UAAU;IACjD,OAAO;AACT;AAEO,eAAe,WAAW,EAAU;IACzC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,+HAAU,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,IAAI;IACvD,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,+HAAU,CAAC,GAAG,CAAC;IACtC,OAAO;AACT;AAEO,eAAe,SAAS,OAAsB;IACnD,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,+HAAU,CAAC,KAAK,CAAC,aAAa;IACrD,OAAO;AACT;AAEO,MAAM,cAAc,OAAO;IAChC,MAAM,WAAW,IAAI;IACrB,SAAS,MAAM,CAAC,QAAQ;IAExB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,+HAAU,CAAC,IAAI,CAAC,WAAW;IAClD,OAAO,KAAK,GAAG;AACjB","debugId":null}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/09-auth/components/AuthNavigation/AuthNavigation.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport css from \"./AuthNavigation.module.css\";\nimport { useRouter } from \"next/navigation\"; \nimport { useAuthStore } from \"@/lib/store/authStore\";\nimport { logout } from \"@/lib/api/clientApi\";\n\nexport default function AuthNavigation() {\n  const router = useRouter();\n\n  const isAuthenticated = useAuthStore((state) => state.isAuthenticated);\n  const user = useAuthStore((state) => state.user);\n  const clearIsAuthenticated = useAuthStore((state) => state.clearIsAuthenticated);\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      clearIsAuthenticated();\n      router.push(\"/sign-in\");\n    } catch (err) {\n      console.error(\"Logout failed\", err);\n    }\n  }\n\n  return (\n    <ul className={css.navList}>\n      {isAuthenticated && user ? (\n        <>\n          <li className={css.navigationItem}>\n            <span className={css.userEmail}>{user.email}</span>\n          </li>\n          <li className={css.navigationItem}>\n            <Link href=\"/profile\" className={css.navigationLink}>Profile</Link>\n          </li>\n          <li className={css.navigationItem}>\n            <button className={css.logoutButton} onClick={handleLogout}>Logout</button>\n          </li>\n        </>\n      ) : (\n        <>\n          <li className={css.navigationItem}>\n            <Link href=\"/sign-in\" className={css.navigationLink}>Login</Link>\n          </li>\n          <li className={css.navigationItem}>\n            <Link href=\"/sign-up\" className={css.navigationLink}>Sign up</Link>\n          </li>\n        </>\n      )}\n    </ul>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,kBAAkB,IAAA,yIAAY,EAAC,CAAC,QAAU,MAAM,eAAe;IACrE,MAAM,OAAO,IAAA,yIAAY,EAAC,CAAC,QAAU,MAAM,IAAI;IAC/C,MAAM,uBAAuB,IAAA,yIAAY,EAAC,CAAC,QAAU,MAAM,oBAAoB;IAE/E,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,IAAA,iIAAM;YACZ;YACA,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,iBAAiB;QACjC;IACF;IAEA,qBACE,8OAAC;QAAG,WAAW,qKAAG,CAAC,OAAO;kBACvB,mBAAmB,qBAClB;;8BACE,8OAAC;oBAAG,WAAW,qKAAG,CAAC,cAAc;8BAC/B,cAAA,8OAAC;wBAAK,WAAW,qKAAG,CAAC,SAAS;kCAAG,KAAK,KAAK;;;;;;;;;;;8BAE7C,8OAAC;oBAAG,WAAW,qKAAG,CAAC,cAAc;8BAC/B,cAAA,8OAAC,uKAAI;wBAAC,MAAK;wBAAW,WAAW,qKAAG,CAAC,cAAc;kCAAE;;;;;;;;;;;8BAEvD,8OAAC;oBAAG,WAAW,qKAAG,CAAC,cAAc;8BAC/B,cAAA,8OAAC;wBAAO,WAAW,qKAAG,CAAC,YAAY;wBAAE,SAAS;kCAAc;;;;;;;;;;;;yCAIhE;;8BACE,8OAAC;oBAAG,WAAW,qKAAG,CAAC,cAAc;8BAC/B,cAAA,8OAAC,uKAAI;wBAAC,MAAK;wBAAW,WAAW,qKAAG,CAAC,cAAc;kCAAE;;;;;;;;;;;8BAEvD,8OAAC;oBAAG,WAAW,qKAAG,CAAC,cAAc;8BAC/B,cAAA,8OAAC,uKAAI;wBAAC,MAAK;wBAAW,WAAW,qKAAG,CAAC,cAAc;kCAAE;;;;;;;;;;;;;;;;;;AAMjE","debugId":null}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/09-auth/components/TanStackProvider/TanStackProvider.tsx"],"sourcesContent":["'use client';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { ReactNode, useState } from 'react';\n\nexport default function TanStackProvider({ children }: { children: ReactNode }) {\n  const [queryClient] = useState(() => new QueryClient());\n  return <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>;\n}\n"],"names":[],"mappings":";;;;;AACA;AAAA;AACA;AAFA;;;;AAIe,SAAS,iBAAiB,EAAE,QAAQ,EAA2B;IAC5E,MAAM,CAAC,YAAY,GAAG,IAAA,iNAAQ,EAAC,IAAM,IAAI,4LAAW;IACpD,qBAAO,8OAAC,6MAAmB;QAAC,QAAQ;kBAAc;;;;;;AACpD","debugId":null}},
    {"offset": {"line": 398, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/09-auth/components/AuthProvider/AuthProvider.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode, createContext, useContext, useEffect, useState } from 'react';\nimport { useAuthStore } from '@/lib/store/authStore';\nimport { checkSession, getMe } from '@/lib/api/clientApi';\nimport { User } from '@/types/user';\n\ntype AuthContextType = {\n  user: User | null;\n  login: (user: User) => void;\n  logout: () => void;\n};\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\n  const { user, setUser, clearIsAuthenticated } = useAuthStore();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const initAuth = async () => {\n      try {\n        const sessionValid = await checkSession();\n        if (sessionValid) {\n          const currentUser = await getMe();\n          setUser(currentUser);\n        } else {\n          clearIsAuthenticated();\n        }\n      } catch {\n        clearIsAuthenticated();\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    initAuth();\n  }, [setUser, clearIsAuthenticated]);\n\n  const login = (userData: User) => setUser(userData);\n  const logout = () => clearIsAuthenticated();\n\n  if (loading) return null;\n\n  return (\n    <AuthContext.Provider value={{ user, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) throw new Error('useAuth must be used within AuthProvider');\n  return context;\n};\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAaA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;IAChE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,oBAAoB,EAAE,GAAG,IAAA,yIAAY;IAC5D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,WAAW;YACf,IAAI;gBACF,MAAM,eAAe,MAAM,IAAA,uIAAY;gBACvC,IAAI,cAAc;oBAChB,MAAM,cAAc,MAAM,IAAA,gIAAK;oBAC/B,QAAQ;gBACV,OAAO;oBACL;gBACF;YACF,EAAE,OAAM;gBACN;YACF,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;QAAS;KAAqB;IAElC,MAAM,QAAQ,CAAC,WAAmB,QAAQ;IAC1C,MAAM,SAAS,IAAM;IAErB,IAAI,SAAS,OAAO;IAEpB,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;QAAO;kBAChD;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT","debugId":null}}]
}