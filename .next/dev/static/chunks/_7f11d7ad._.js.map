{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/AuthNavigation/AuthNavigation.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"logoutButton\": \"AuthNavigation-module__DN8toa__logoutButton\",\n  \"navigationItem\": \"AuthNavigation-module__DN8toa__navigationItem\",\n  \"navigationLink\": \"AuthNavigation-module__DN8toa__navigationLink\",\n  \"userEmail\": \"AuthNavigation-module__DN8toa__userEmail\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/09-auth/lib/store/authStore.ts"],"sourcesContent":["\nimport { create } from \"zustand\";\n\nexport interface AuthStore {\n  user: {\n    email: string;\n    username: string;\n    avatar: string;\n  } | null;\n  isAuthenticated: boolean;\n  setUser: (user: AuthStore[\"user\"]) => void;\n  clearIsAuthenticated: () => void;\n}\n\nexport const useAuthStore = create<AuthStore>()((set) => ({\n  user: null,\n  isAuthenticated: false,\n  setUser: (user) => set({ user, isAuthenticated: true }),\n  clearIsAuthenticated: () => set({ user: null, isAuthenticated: false }),\n}));\n// import { create } from 'zustand';\n// import type { User } from '@/types/user';\n\n// //===========================================================================\n\n// type AuthStore = {\n//   isAuthenticated: boolean;\n//   user: User | null;\n//   setUser: (user: User) => void;\n//   clearIsAuthenticated: () => void;\n// };\n\n// //===========================================================================\n\n// export const useAuthStore = create<AuthStore>()(set => ({\n//   isAuthenticated: false,\n//   user: null,\n//   setUser: (user: User) => {\n//     set(() => ({ user, isAuthenticated: true }));\n//   },\n//   clearIsAuthenticated: () => {\n//     set(() => ({ user: null, isAuthenticated: false }));\n//   },\n// }));"],"names":[],"mappings":";;;;AACA;;AAaO,MAAM,eAAe,IAAA,qJAAM,IAAc,CAAC,MAAQ,CAAC;QACxD,MAAM;QACN,iBAAiB;QACjB,SAAS,CAAC,OAAS,IAAI;gBAAE;gBAAM,iBAAiB;YAAK;QACrD,sBAAsB,IAAM,IAAI;gBAAE,MAAM;gBAAM,iBAAiB;YAAM;IACvE,CAAC,IACD,oCAAoC;CACpC,4CAA4C;CAE5C,gFAAgF;CAEhF,qBAAqB;CACrB,8BAA8B;CAC9B,uBAAuB;CACvB,mCAAmC;CACnC,sCAAsC;CACtC,KAAK;CAEL,gFAAgF;CAEhF,4DAA4D;CAC5D,4BAA4B;CAC5B,gBAAgB;CAChB,+BAA+B;CAC/B,oDAAoD;CACpD,OAAO;CACP,kCAAkC;CAClC,2DAA2D;CAC3D,OAAO;CACP,OAAO","debugId":null}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/09-auth/lib/api/api.ts"],"sourcesContent":["import axios, { type AxiosInstance } from 'axios';\n\n\nconst BASE_URL = `${process.env.NEXT_PUBLIC_API_URL}/api`;\n\nexport const nextServer: AxiosInstance = axios.create({\n  baseURL: BASE_URL,\n  withCredentials: true,\n});"],"names":[],"mappings":";;;;AAGoB;AAHpB;;AAGA,MAAM,WAAW,6DAAmC,IAAI,CAAC;AAElD,MAAM,aAA4B,mJAAK,CAAC,MAAM,CAAC;IACpD,SAAS;IACT,iBAAiB;AACnB","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/09-auth/lib/api/clientApi.ts"],"sourcesContent":["\nimport type { User } from \"../../types/user\";\nimport type { Note, NoteCreate } from \"../../types/note\";\n// import { api } from \"@/app/api/api\";\nimport { nextServer } from \"./api\";\n\nexport type UpdateUserRequest = {\n  username?: string;\n  photoUrl?: string | null;\n};\n\nexport type CreateNoteInput = Pick<Note, 'title' | 'content' | 'tag'>;\n\nexport async function register(email: string, password: string): Promise<User> {\n  const { data } = await nextServer.post(\"/auth/register\", { email, password });\n  return data;\n} \n\nexport const login = async (email: string, password: string) => {\n  const { data } = await nextServer.post(\"/auth/login\", { email, password });\n  return data;\n};\n\n\nexport async function logout(): Promise<void> {\n  await nextServer.post(\"/auth/logout\");\n}\n\nexport async function checkSession(): Promise<User | null> {\n  const { data } = await nextServer.get(\"/auth/session\");\n  return data || null;\n}\n\nexport async function fetchNotes(page = 1, perPage = 12, search = \"\", tag?: string) {\n  const params: Record<string, string | number> = { page, perPage };\n  if (search.trim()) params.search = search.trim();\n  if (tag) params.tag = tag;\n  const { data } = await nextServer.get(\"/notes\", { params });\n  return data;\n}\n\nexport async function fetchNoteById(id: string) {\n  const { data } = await nextServer.get(`/notes/${id}`);\n  return data;\n}\n\nexport async function createNote(note: NoteCreate) {\n  const { data } = await nextServer.post(\"/notes\", note);\n  return data;\n}\n\nexport async function deleteNote(id: string) {\n  const { data } = await nextServer.delete(`/notes/${id}`);\n  return data;\n}\n\nexport async function getMe() {\n  const { data } = await nextServer.get(\"/users/me\");\n  return data;\n}\n\nexport async function updateMe(payload: Partial<User>) {\n  const { data } = await nextServer.patch(\"/users/me\", payload);\n  return data;\n}\n\nexport const updateMeWithAvatar = async (formData: FormData) => {\n  const { data } = await nextServer.patch<User>('/users/me', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n    withCredentials: true,\n  });\n  return data;\n};\n\nexport const uploadImage = async (file: File): Promise<string> => {\n  try {\n    const formData = new FormData();\n    formData.append('file', file);\n    const { data } = await nextServer.post('/upload', formData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n\n    if (!data?.url) {\n      throw new Error('Upload failed: no URL returned');\n    }\n\n    return data.url;\n  } catch (err) {\n    console.error('Upload error:', err);\n    throw err;\n  }\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,uCAAuC;AACvC;;AASO,eAAe,SAAS,KAAa,EAAE,QAAgB;IAC5D,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kIAAU,CAAC,IAAI,CAAC,kBAAkB;QAAE;QAAO;IAAS;IAC3E,OAAO;AACT;AAEO,MAAM,QAAQ,OAAO,OAAe;IACzC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kIAAU,CAAC,IAAI,CAAC,eAAe;QAAE;QAAO;IAAS;IACxE,OAAO;AACT;AAGO,eAAe;IACpB,MAAM,kIAAU,CAAC,IAAI,CAAC;AACxB;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kIAAU,CAAC,GAAG,CAAC;IACtC,OAAO,QAAQ;AACjB;AAEO,eAAe,WAAW,OAAO,CAAC,EAAE,UAAU,EAAE,EAAE,SAAS,EAAE,EAAE,GAAY;IAChF,MAAM,SAA0C;QAAE;QAAM;IAAQ;IAChE,IAAI,OAAO,IAAI,IAAI,OAAO,MAAM,GAAG,OAAO,IAAI;IAC9C,IAAI,KAAK,OAAO,GAAG,GAAG;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kIAAU,CAAC,GAAG,CAAC,UAAU;QAAE;IAAO;IACzD,OAAO;AACT;AAEO,eAAe,cAAc,EAAU;IAC5C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kIAAU,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,IAAI;IACpD,OAAO;AACT;AAEO,eAAe,WAAW,IAAgB;IAC/C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kIAAU,CAAC,IAAI,CAAC,UAAU;IACjD,OAAO;AACT;AAEO,eAAe,WAAW,EAAU;IACzC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kIAAU,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,IAAI;IACvD,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kIAAU,CAAC,GAAG,CAAC;IACtC,OAAO;AACT;AAEO,eAAe,SAAS,OAAsB;IACnD,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kIAAU,CAAC,KAAK,CAAC,aAAa;IACrD,OAAO;AACT;AAEO,MAAM,qBAAqB,OAAO;IACvC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kIAAU,CAAC,KAAK,CAAO,aAAa,UAAU;QACnE,SAAS;YACP,gBAAgB;QAClB;QACA,iBAAiB;IACnB;IACA,OAAO;AACT;AAEO,MAAM,cAAc,OAAO;IAChC,IAAI;QACF,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QACxB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kIAAU,CAAC,IAAI,CAAC,WAAW,UAAU;YAC1D,SAAS;gBAAE,gBAAgB;YAAsB;QACnD;QAEA,IAAI,CAAC,MAAM,KAAK;YACd,MAAM,IAAI,MAAM;QAClB;QAEA,OAAO,KAAK,GAAG;IACjB,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,MAAM;IACR;AACF","debugId":null}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/09-auth/components/AuthNavigation/AuthNavigation.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport css from \"./AuthNavigation.module.css\";\nimport { useRouter } from \"next/navigation\"; \nimport { useAuthStore } from \"@/lib/store/authStore\";\nimport { logout } from \"@/lib/api/clientApi\";\n\nexport default function AuthNavigation() {\n  const router = useRouter();\n\n  const isAuthenticated = useAuthStore((state) => state.isAuthenticated);\n  const clearIsAuthenticated = useAuthStore((state) => state.clearIsAuthenticated);\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      clearIsAuthenticated();\n      router.push(\"/sign-in\");\n    } catch (err) {\n      console.error(\"Logout failed\", err);\n    }\n  }\n\n  return (\n    <ul className={css.navList}>\n      {isAuthenticated ? (\n        <>\n          <li className={css.navigationItem}>\n            <Link href=\"/profile\" className={css.navigationLink}>Profile</Link>\n          </li>\n          <li className={css.navigationItem}>\n            <button className={css.logoutButton} onClick={handleLogout}>Logout</button>\n          </li>\n        </>\n      ) : (\n        <>\n          <li className={css.navigationItem}>\n            <Link href=\"/sign-in\" className={css.navigationLink}>Login</Link>\n          </li>\n          <li className={css.navigationItem}>\n            <Link href=\"/sign-up\" className={css.navigationLink}>Sign up</Link>\n          </li>\n        </>\n      )}\n    </ul>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,kBAAkB,IAAA,4IAAY;wDAAC,CAAC,QAAU,MAAM,eAAe;;IACrE,MAAM,uBAAuB,IAAA,4IAAY;6DAAC,CAAC,QAAU,MAAM,oBAAoB;;IAE/E,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,IAAA,oIAAM;YACZ;YACA,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,iBAAiB;QACjC;IACF;IAEA,qBACE,6LAAC;QAAG,WAAW,wKAAG,CAAC,OAAO;kBACvB,gCACC;;8BACE,6LAAC;oBAAG,WAAW,wKAAG,CAAC,cAAc;8BAC/B,cAAA,6LAAC,0KAAI;wBAAC,MAAK;wBAAW,WAAW,wKAAG,CAAC,cAAc;kCAAE;;;;;;;;;;;8BAEvD,6LAAC;oBAAG,WAAW,wKAAG,CAAC,cAAc;8BAC/B,cAAA,6LAAC;wBAAO,WAAW,wKAAG,CAAC,YAAY;wBAAE,SAAS;kCAAc;;;;;;;;;;;;yCAIhE;;8BACE,6LAAC;oBAAG,WAAW,wKAAG,CAAC,cAAc;8BAC/B,cAAA,6LAAC,0KAAI;wBAAC,MAAK;wBAAW,WAAW,wKAAG,CAAC,cAAc;kCAAE;;;;;;;;;;;8BAEvD,6LAAC;oBAAG,WAAW,wKAAG,CAAC,cAAc;8BAC/B,cAAA,6LAAC,0KAAI;wBAAC,MAAK;wBAAW,WAAW,wKAAG,CAAC,cAAc;kCAAE;;;;;;;;;;;;;;;;;;AAMjE;GAvCwB;;QACP,kJAAS;QAEA,4IAAY;QACP,4IAAY;;;KAJnB","debugId":null}},
    {"offset": {"line": 324, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/09-auth/components/TanStackProvider/TanStackProvider.tsx"],"sourcesContent":["'use client';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { ReactNode, useState } from 'react';\n\nexport default function TanStackProvider({ children }: { children: ReactNode }) {\n  const [queryClient] = useState(() => new QueryClient());\n  return <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>;\n}\n"],"names":[],"mappings":";;;;;AACA;AAAA;AACA;;;AAFA;;;AAIe,SAAS,iBAAiB,EAAE,QAAQ,EAA2B;;IAC5E,MAAM,CAAC,YAAY,GAAG,IAAA,yKAAQ;qCAAC,IAAM,IAAI,+LAAW;;IACpD,qBAAO,6LAAC,gNAAmB;QAAC,QAAQ;kBAAc;;;;;;AACpD;GAHwB;KAAA","debugId":null}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/09-auth/components/AuthProvider/AuthProvider.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode, createContext, useContext, useState } from 'react';\n\ntype AuthContextType = {\n  user: string | null;\n  login: (username: string) => void;\n  logout: () => void;\n};\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\n  const [user, setUser] = useState<string | null>(null);\n\n  const login = (username: string) => setUser(username);\n  const logout = () => setUser(null);\n\n  return (\n    <AuthContext.Provider value={{ user, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) throw new Error('useAuth must be used within AuthProvider');\n  return context;\n};\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAUA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAgB;IAEhD,MAAM,QAAQ,CAAC,WAAqB,QAAQ;IAC5C,MAAM,SAAS,IAAM,QAAQ;IAE7B,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;QAAO;kBAChD;;;;;;AAGP;GAXa;KAAA;AAaN,MAAM,UAAU;;IACrB,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT;IAJa","debugId":null}}]
}